## 初めてのArduinoプログラム

さっきのコードの詳しい説明に入る前に、一度画面に`Hello, World!`と表示する
プログラムをArduinoで動かしてみよう。しかし、残念ながらこのままでは動かないため
少し改変したものを以下に示す。これを**一言一句正確**に先ほどインストールした
Arduino IDEの画面に打ち込んでほしい。プログラミング言語にも文法があって、
その文法は少しのコード記述ミスも容赦なくエラーとして拒絶してしまう。
注意してほしいのは、プログラミング言語は基本的に半角英数字で記述する。
つまり、このコードに出てくる空白は半角スペースだし、記号も全部半角だ。
誤って半角で書くところを全角で書いてしまうのはあるあるな間違えだが、
発見するのが面倒くさいから気をつけてほしい。

```cpp
void setup() {
  Serial.begin(9600);
  Serial.print("Hello, World!);
}
void loop() {
}
```

いきなり`void`とか`{`とかが出てきて何がなんだかわからないかもしれないが、
これはとりあえず「おまじない」と捉えて打ち込んでみてほしい。
終わり次第、メニューバーの「Tools」→「Board」で「Arduino Nano」、
「Tools」→「Processor」で「ATmega168」が選択されていることを確認したあと
左上のチェックマークを押してほしい。
正しく入力できていたら、次のようなメッセージが下に現れる。

```
Sketch uses 1,420 bytes (9%) of program storage space. Maximum is 14,336 bytes.
Global variables use 196 bytes (19%) of dynamic memory, leaving 828 bytes for local variables. Maximum is 1,024 bytes.
```

`1,420 bytes`というのは、プログラム（Arduinoではスケッチと呼ばれる）の大きさ
を指す。マイコンは普通のパソコンと違って保存できる容量が非常に限られているから
プログラムの大きさというのは結構重要な情報だ。

もし上記のようなメッセージが出るかわりにオレンジ色でエラーメッセージが出た
場合は、どこかで打ち間違えた可能性が高い。
見本コードと打ち込んだコードをよく見比べて間違いを探そう！
どうしてもわからなかったら遠慮なく先輩に聞こう！彼らは多分暇だ。

動いたことを確認したら、コードの構造を詳しく見ていこう。

```cpp
void setup() {
  Serial.begin(9600);
  Serial.print("Hello, World!);
}
void loop() {
}
```

名前からなんとなく`setup() {`から`}`の中身が最初に実行されることがわかる。
二行目は最初に見た

```cpp
print("Hello, World!");
```

と比べると先頭に`Serial.`というのがついている点で違う。これは、Arduinoと
コンピュータ間の通信を「シリアル通信」というもので実現していることと関係している。
**画面に表示する関数の名前が`Serial.print`**という認識で問題ない。
このシリアル通信を開始してくれるのが`Serial.begin`関数だ。
`Serial.begin`関数に渡されている`9600`は通信の周波数を表し、基本的に
この数値が高ければ高いほどいっぱい転送できるようになる。
これは特に気にするべきことではないため読み飛ばしても問題ないが、
この数値を**ボードレート**と呼び、コンピュータ側とマイコン側で同じ
ボードレートを指定しないと正常に通信が行えないため、慣例的に`9600`に設定
されることが多い。

